import{r as n,R as U,j as e,g as c,G as C,d as _,e as J,o,D,a as b,b as w,S as M}from"./vendor-BrzHSOkp.js";import{D as X}from"./page-dashboard-BsZqo3A7.js";const Y=n.createContext({session:{},setSession:()=>{}});function q(){return n.useContext(Y)}const ae=()=>{const I="https://jikuclass.onrender.com",{session:t}=q();U();const[Q,V]=n.useState("transparent"),[i,v]=n.useState([]),[L,k]=n.useState(!1),[d,Z]=n.useState({title:"",description:""}),[E,p]=n.useState(!1),[N,P]=n.useState(!1),[$,A]=n.useState(null),[B,T]=n.useState(!0),[u,W]=n.useState(null),[z,h]=n.useState(!1),[x,G]=n.useState(null),R=async a=>{try{const s=await fetch(`${I}/api/payments/type/${a}`);if(!s.ok)throw new Error(`${s.status}`);const r=await s.json();v(r),console.log(r)}catch(s){W(s.message==404?"No Data ":`Error ${s.message} contact Admin`),console.error("Error fetching payments data :",s.message)}finally{T(!1)}},H=a=>{R(a),p(!0)},K=()=>{p(!1)},O=a=>{var m,g,y,f,S,j;A(a),P(!0),sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("selectedStage",a);const s=((m=t==null?void 0:t.user)==null?void 0:m.academy)!=null?"academy":(g=t==null?void 0:t.user)==null?void 0:g.academy,r=((y=t==null?void 0:t.user)==null?void 0:y.practice)!=null?"practice":(f=t==null?void 0:t.user)==null?void 0:f.practice,l=((S=t==null?void 0:t.user)==null?void 0:S.inventory)!=null?"inventory":(j=t==null?void 0:t.user)==null?void 0:j.inventory;a.toLowerCase()==="utangulizi"||s===a.toLowerCase()||r===a.toLowerCase()||l===a.toLowerCase()?(G(a),h(!0),console.log(s,l,r)):(H(a),h(!1),console.log(s,l,r))},F=[{title:"Utangulizi",description:"",route:"/dashboard"},{title:"Academy",description:"",route:"/dashboard"},{title:"Practice",description:"",route:"/dashboard"},{title:"Inventory",description:"",route:"/dashboard"}];return e.jsx(e.Fragment,{children:z&&x?e.jsx(X,{stageName:x}):e.jsxs(c,{sx:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(c,{sx:{marginTop:"64px",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingX:{xs:2,sm:4,md:8},paddingTop:4,paddingBottom:8},children:e.jsx(C,{container:!0,spacing:4,justifyContent:"center",children:F.map((a,s)=>e.jsx(C,{item:!0,xs:12,md:6,lg:3,children:e.jsx(_,{sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s ease","&:hover":{transform:"translateY(-5px)"},cursor:"pointer"},onClick:()=>O(a.title),children:e.jsx(J,{sx:{flexGrow:1},children:e.jsx(o,{variant:"h5",component:"h4",sx:{fontWeight:600,mb:0},children:a.title})})})},s))})}),e.jsxs(D,{open:L,onClose:()=>k(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(b,{children:d.title}),e.jsx(w,{children:e.jsx(c,{sx:{display:"flex",alignItems:"center",gap:4,p:2},children:e.jsx(o,{variant:"body1",children:d.description})})})]}),e.jsxs(D,{open:E,onClose:K,maxWidth:"md",children:[e.jsx(b,{children:`Fanya Malipo , Â Ili Kuendelea Hatua ya ${$}`}),e.jsx(w,{children:B?e.jsx(o,{children:"Inapakia maelezo ya malipo..."}):u?e.jsx(o,{color:"error",children:u}):i.length>0?e.jsxs(M,{spacing:2,direction:{xs:"column",md:"column"},children:[e.jsx(o,{variant:"body1",children:`Kiwango ${i[0].amount}`})," ",e.jsx(o,{variant:"body1",children:`Jinsi ya Kulipia ${i[0].paymentWay}`})]}):e.jsx(o,{children:"Hakuna maelezo ya malipo yaliyopatikana kwa hatua hii."})})]})]})})};export{ae as C,Y as S,q as u};
