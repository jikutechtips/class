import{r as n,U as H,W as K,j as t,h as d,G as C,d as R,e as U,p as o,D as S,a as b,b as D,S as O}from"./vendor-COX_TtbI.js";const _=n.createContext({session:{},setSession:()=>{}});function F(){return n.useContext(_)}const Q=()=>{const v="https://jikuclass.onrender.com",{session:a}=F();H();const[J,M]=n.useState("transparent"),[i,w]=n.useState([]),[I,$]=n.useState(!1),[p,X]=n.useState({title:"",description:""}),[L,u]=n.useState(!1),[Y,k]=n.useState(!1),[E,A]=n.useState(null),r=K(),[W,B]=n.useState(!0),[h,P]=n.useState(null),T=async()=>{try{const e=await fetch(`${v}/api/payments/type/inventory`);if(!e.ok)throw new Error(`${e.status}`);const s=await e.json();w(s),console.log(s)}catch(e){P(e.message==404?"No Data ":`Error ${e.message} contact Admin`),console.error("Error fetching payments data :",e.message)}finally{B(!1)}},z=e=>{var x,g,m,y,f,j;T(),A(e),k(!0),sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("selectedStage",e);const s=((x=a==null?void 0:a.user)==null?void 0:x.academy)!=null?"academy":(g=a==null?void 0:a.user)==null?void 0:g.academy,l=((m=a==null?void 0:a.user)==null?void 0:m.practice)!=null?"practice":(y=a==null?void 0:a.user)==null?void 0:y.practice,c=((f=a==null?void 0:a.user)==null?void 0:f.inventory)!=null?"inventory":(j=a==null?void 0:a.user)==null?void 0:j.inventory;e.toLowerCase()=="utangulizi"?(r(`/dashboard?stage=${e}`),console.log(s,c,l)):s==e.toLowerCase()?r(`/dashboard?stage=${e}`):l==e.toLowerCase()?r(`/dashboard?stage=${e}`):c==e.toLowerCase()?r(`/dashboard?stage=${e}`):(u(!0),console.log(s,c,l))},G=[{title:"Utangulizi",description:"",route:"/dashboard"},{title:"Academy",description:"",route:"/dashboard"},{title:"Practice",description:"",route:"/dashboard"},{title:"Inventory",description:"",route:"/dashboard"}];return t.jsxs(d,{sx:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[t.jsx(d,{sx:{marginTop:"64px",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingX:{xs:2,sm:4,md:8},paddingTop:4,paddingBottom:8},children:t.jsx(C,{container:!0,spacing:4,justifyContent:"center",children:G.map((e,s)=>t.jsx(C,{item:!0,xs:12,md:6,lg:3,children:t.jsx(R,{sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s ease","&:hover":{transform:"translateY(-5px)"},cursor:"pointer"},onClick:()=>z(e.title),children:t.jsx(U,{sx:{flexGrow:1},children:t.jsx(o,{variant:"h5",component:"h4",sx:{fontWeight:600,mb:0},children:e.title})})})},s))})}),t.jsxs(S,{open:I,onClose:()=>$(!1),fullWidth:!0,maxWidth:"md",children:[t.jsx(b,{children:p.title}),t.jsx(D,{children:t.jsx(d,{sx:{display:"flex",alignItems:"center",gap:4,p:2},children:t.jsx(o,{variant:"body1",children:p.description})})})]}),t.jsxs(S,{open:L,onClose:()=>u(!1),maxWidth:"md",children:[t.jsx(b,{children:`Fanya Malipo ,  Ili Kuendelea Hatua ya ${E}`}),t.jsx(D,{children:W?t.jsx(o,{children:"Inapakia maelezo ya malipo..."}):h?t.jsx(o,{color:"error",children:h}):i.length>0?t.jsxs(O,{spacing:2,direction:{xs:"column",md:"column"},children:[t.jsx(o,{variant:"body1",children:`Kiwango ${i[0].amount}`})," ",t.jsx(o,{variant:"body1",children:`Jinsi ya Kulipia ${i[0].paymentWay}`})]}):t.jsx(o,{children:"Hakuna maelezo ya malipo yaliyopatikana kwa hatua hii."})})]})]})};export{Q as C,_ as S,F as u};
