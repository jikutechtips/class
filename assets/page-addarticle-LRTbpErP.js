import{r as a,j as e,g as y,T as p,F as w,h as A,i as F,M as s,B,k as E,A as T}from"./vendor-BrzHSOkp.js";function I(){const f="https://jikuclass.onrender.com",[c,d]=a.useState(""),[u,m]=a.useState(""),[g,h]=a.useState(""),[v,b]=a.useState(!1),[j,l]=a.useState(""),[S,i]=a.useState("info"),k=async r=>{r.preventDefault();const o={title:c,body:u.trim(),type:g};try{const t=await fetch(`${f}/api/articles`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(t.ok){const n=await t.json();console.log("Article created successfully:",n),l("Article created successfully!"),i("success"),d(""),m(""),h("")}else{const n=await t.json();console.error("Failed to create article:",t.status,n),l(`Failed to create article: ${n.message||t.statusText}`),i("error")}}catch(t){console.error("Error submitting form:",t),l(`Error submitting form: ${t instanceof Error?t.message:"Unknown error"}`),i("error")}finally{b(!0)}},x=(r,o)=>{o!=="clickaway"&&b(!1)};return e.jsxs(y,{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",sx:{fontFamily:"Inter, sans-serif"},children:[e.jsxs(y,{component:"form",onSubmit:k,className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg flex flex-col gap-6",children:[e.jsx(p,{label:"Title",variant:"outlined",fullWidth:!0,value:c,onChange:r=>d(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3}}),e.jsx(p,{label:"Body",variant:"outlined",fullWidth:!0,multiline:!0,rows:6,value:u,onChange:r=>m(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3}}),e.jsxs(w,{fullWidth:!0,variant:"outlined",className:"rounded-lg",children:[e.jsx(A,{id:"article-type-label",children:"Type"}),e.jsxs(F,{labelId:"article-type-label",id:"article-type-select",value:g,label:"Type",onChange:r=>h(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3},children:[e.jsx(s,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(s,{value:"utangulizi",children:"Utangulizi"}),e.jsx(s,{value:"academy",children:"Academy"}),e.jsx(s,{value:"pratice",children:"Practice"}),e.jsx(s,{value:"inventory",children:"Inventory"})]})]}),e.jsx(B,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:"py-3 rounded-lg text-white font-semibold shadow-md hover:shadow-lg transition-all duration-300",sx:{borderRadius:"0.75rem",background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)","&:hover":{background:"linear-gradient(45deg, #FF8E53 30%, #FE6B8B 90%)"}},children:"Create Article"})]}),e.jsx(E,{open:v,autoHideDuration:6e3,onClose:x,children:e.jsx(T,{onClose:x,severity:S,sx:{width:"100%"},children:j})})]})}export{I as A};
