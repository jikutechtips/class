import{r as s,R as F,j as e,g as c,G as C,d as O,e as U,o as n,D,a as b,b as w,S as _}from"./vendor-BrzHSOkp.js";import{D as J}from"./page-dashboard-BewyHHlb.js";const M=s.createContext({session:{},setSession:()=>{}});function X(){return s.useContext(M)}const ee=()=>{const v="https://jikuclass.onrender.com",{session:t}=X();F();const[Y,q]=s.useState("transparent"),[r,I]=s.useState([]),[L,k]=s.useState(!1),[d,Q]=s.useState({title:"",description:""}),[E,u]=s.useState(!1),[V,$]=s.useState(!1),[A,P]=s.useState(null),[B,T]=s.useState(!0),[p,W]=s.useState(null),[z,h]=s.useState(!1),[x,G]=s.useState(null),R=async()=>{try{const a=await fetch(`${v}/api/payments/type/inventory`);if(!a.ok)throw new Error(`${a.status}`);const o=await a.json();I(o),console.log(o)}catch(a){W(a.message==404?"No Data ":`Error ${a.message} contact Admin`),console.error("Error fetching payments data :",a.message)}finally{T(!1)}},H=a=>{var m,g,y,f,S,j;R(),P(a),$(!0),sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("selectedStage",a);const o=((m=t==null?void 0:t.user)==null?void 0:m.academy)!=null?"academy":(g=t==null?void 0:t.user)==null?void 0:g.academy,i=((y=t==null?void 0:t.user)==null?void 0:y.practice)!=null?"practice":(f=t==null?void 0:t.user)==null?void 0:f.practice,l=((S=t==null?void 0:t.user)==null?void 0:S.inventory)!=null?"inventory":(j=t==null?void 0:t.user)==null?void 0:j.inventory;a.toLowerCase()==="utangulizi"||o===a.toLowerCase()||i===a.toLowerCase()||l===a.toLowerCase()?(G(a),h(!0),console.log(o,l,i)):(u(!0),h(!1),console.log(o,l,i))},K=[{title:"Utangulizi",description:"",route:"/dashboard"},{title:"Academy",description:"",route:"/dashboard"},{title:"Practice",description:"",route:"/dashboard"},{title:"Inventory",description:"",route:"/dashboard"}];return e.jsx(e.Fragment,{children:z&&x?e.jsx(J,{stageName:x}):e.jsxs(c,{sx:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx(c,{sx:{marginTop:"64px",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",paddingX:{xs:2,sm:4,md:8},paddingTop:4,paddingBottom:8},children:e.jsx(C,{container:!0,spacing:4,justifyContent:"center",children:K.map((a,o)=>e.jsx(C,{item:!0,xs:12,md:6,lg:3,children:e.jsx(O,{sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"transform 0.3s ease","&:hover":{transform:"translateY(-5px)"},cursor:"pointer"},onClick:()=>H(a.title),children:e.jsx(U,{sx:{flexGrow:1},children:e.jsx(n,{variant:"h5",component:"h4",sx:{fontWeight:600,mb:0},children:a.title})})})},o))})}),e.jsxs(D,{open:L,onClose:()=>k(!1),fullWidth:!0,maxWidth:"md",children:[e.jsx(b,{children:d.title}),e.jsx(w,{children:e.jsx(c,{sx:{display:"flex",alignItems:"center",gap:4,p:2},children:e.jsx(n,{variant:"body1",children:d.description})})})]}),e.jsxs(D,{open:E,onClose:()=>u(!1),maxWidth:"md",children:[e.jsx(b,{children:`Fanya Malipo , Â Ili Kuendelea Hatua ya ${A}`}),e.jsx(w,{children:B?e.jsx(n,{children:"Inapakia maelezo ya malipo..."}):p?e.jsx(n,{color:"error",children:p}):r.length>0?e.jsxs(_,{spacing:2,direction:{xs:"column",md:"column"},children:[e.jsx(n,{variant:"body1",children:`Kiwango ${r[0].amount}`})," ",e.jsx(n,{variant:"body1",children:`Jinsi ya Kulipia ${r[0].paymentWay}`})]}):e.jsx(n,{children:"Hakuna maelezo ya malipo yaliyopatikana kwa hatua hii."})})]})]})})};export{ee as C,M as S,X as u};
