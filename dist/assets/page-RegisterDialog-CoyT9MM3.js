import{r as o,j as e,S as f,c as n,d as w,e as S,T as i,f as C,A as x,g as y,B as v}from"./vendor-DzAsgXT6.js";const E=()=>{const[r,d]=o.useState({fullName:"",phone:"",email:"",address:"",itExperience:"",birthYear:"",paymentStatus:"PENDING",password:""}),[c,h]=o.useState(!1),[m,u]=o.useState(null),[g,p]=o.useState(!1),t=s=>{const{name:a,value:l}=s.target;d({...r,[a]:l})},b=async s=>{s.preventDefault(),h(!0),u(null),p(!1);try{console.log(JSON.stringify(r));const a=await fetch("http://localhost:8080/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok){const j=await a.json();throw new Error(j.message||"Failed to create user")}const l=await a.json();console.log("User created successfully:",l),p(!0),d({fullName:"",phone:"",email:"",address:"",itExperience:"",birthYear:"1998",paymentStatus:"PENDING",password:""})}catch(a){u(a.message||"An unexpected error occurred")}finally{h(!1)}};return e.jsx(f,{sx:{minHeight:"100vh",bgcolor:n[900],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(w,{sx:{width:"100%",maxWidth:"md"},children:e.jsx(S,{sx:{padding:s=>s.spacing(3)},children:e.jsxs("form",{style:{gap:20},onSubmit:b,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Full Name"}),e.jsx(i,{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:t,required:!0,placeholder:"John Doe",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Phone"}),e.jsx(i,{type:"text",id:"phone",name:"phone",value:r.phone,onChange:t,required:!0,placeholder:"123-456-7890",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Email"}),e.jsx(i,{type:"email",id:"email",name:"email",value:r.email,onChange:t,required:!0,placeholder:"john.doe@example.com",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Address"}),e.jsx(C,{id:"address",name:"address",value:r.address,onChange:t,required:!0,placeholder:"123 Main St",style:{marginTop:1,width:"100%",minHeight:"100px",padding:8,border:"1px solid #d1d5db",borderRadius:"0.375rem",outline:"none",backgroundColor:"white",fontSize:"1rem"}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"itExperience",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"IT Experience (Years)"}),e.jsx(i,{type:"text",id:"itExperience",name:"itExperience",value:r.itExperience,onChange:t,required:!0,placeholder:"e.g awali, msingi, mtaalamu",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birthYear",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Birth Year"}),e.jsx(i,{type:"text",id:"birthYear",name:"birthYear",value:r.birthYear,onChange:t,required:!0,placeholder:"1999",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Password"}),e.jsx(i,{type:"password",id:"password",name:"password",value:r.password,onChange:t,required:!0,placeholder:"Enter Password",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),m&&e.jsxs(x,{severity:"error",sx:{mt:2},children:[e.jsx(y,{children:"Something went Wrong !!"}),e.jsx("p",{children:m})]}),g&&e.jsxs(x,{severity:"success",sx:{mt:2},children:[e.jsx(y,{children:"Success"}),e.jsx("p",{children:"User created successfully!"})]}),e.jsx("div",{children:e.jsx(v,{type:"submit",sx:{width:"100%",mt:2,bgcolor:n[700],color:"white","&:hover":{bgcolor:n[900]},padding:s=>s.spacing(1.5),borderRadius:"0.375rem",fontSize:"1.2rem"},disabled:c,children:c?"Creating...":"Submit"})})]})})})})};export{E as C};
