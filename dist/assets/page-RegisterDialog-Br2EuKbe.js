import{r as o,j as e,S as w,c as n,d as S,e as C,T as i,A as x,f as y,B as v}from"./vendor-BrzHSOkp.js";const E=()=>{const g="https://jikuclass.onrender.com",[r,d]=o.useState({fullName:"",phone:"",email:"",address:"",itExperience:"",birthYear:"",paymentStatus:"PENDING",password:""}),[c,m]=o.useState(!1),[u,h]=o.useState(null),[b,p]=o.useState(!1),a=s=>{const{name:t,value:l}=s.target;d({...r,[t]:l})},f=async s=>{s.preventDefault(),m(!0),h(null),p(!1);try{console.log(JSON.stringify(r));const t=await fetch(`${g}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){const j=await t.json();throw new Error(j.message||"Failed to create user")}const l=await t.json();console.log("User created successfully:",l),p(!0),d({fullName:"",phone:"",email:"",address:"",itExperience:"",birthYear:"1998",paymentStatus:"PENDING",password:""})}catch(t){h(t.message||"An unexpected error occurred")}finally{m(!1)}};return e.jsx(w,{sx:{minHeight:"100vh",bgcolor:n[900],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(S,{sx:{width:"100%",maxWidth:"md"},children:e.jsx(C,{sx:{padding:s=>s.spacing(3)},children:e.jsxs("form",{style:{gap:20},onSubmit:f,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Full Name"}),e.jsx(i,{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:a,required:!0,placeholder:"John Doe",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Phone"}),e.jsx(i,{type:"text",id:"phone",name:"phone",value:r.phone,onChange:a,required:!0,placeholder:"weka namba unayoweza kupata Notification",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Email"}),e.jsx(i,{type:"email",id:"email",name:"email",value:r.email,onChange:a,required:!0,placeholder:"bakari@example.com",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Address"}),e.jsx(i,{type:"text",id:"address",name:"address",value:r.address,onChange:a,required:!0,placeholder:"Ubungo , Dar es Salaam",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"itExperience",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"IT Experience (Years)"}),e.jsx(i,{type:"text",id:"itExperience",name:"itExperience",value:r.itExperience,onChange:a,required:!0,placeholder:"e.g awali, msingi, mtaalamu",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",style:{display:"block",fontSize:"0.875rem",fontWeight:"medium",color:"text.primary"},children:"Password"}),e.jsx(i,{type:"password",id:"password",name:"password",value:r.password,onChange:a,required:!0,placeholder:"Enter Password",sx:{mt:1,width:"100%"},InputProps:{style:{backgroundColor:"white",borderRadius:"0.375rem"}}})]}),u&&e.jsxs(x,{severity:"error",sx:{mt:2},children:[e.jsx(y,{children:"Something went Wrong !!"}),e.jsx("p",{children:u})]}),b&&e.jsxs(x,{severity:"success",sx:{mt:2},children:[e.jsx(y,{children:"Success"}),e.jsx("p",{children:"User created successfully!"})]}),e.jsx("div",{children:e.jsx(v,{type:"submit",sx:{width:"100%",mt:2,bgcolor:n[700],color:"white","&:hover":{bgcolor:n[900]},padding:s=>s.spacing(1.5),borderRadius:"0.375rem",fontSize:"1.2rem"},disabled:c,children:c?"Creating...":"Submit"})})]})})})})};export{E as C};
