import{r as a,j as e,h as y,T as p,F as k,i as w,k as F,M as s,B as A,l as T,A as B}from"./vendor-COX_TtbI.js";function E(){const[c,d]=a.useState(""),[u,m]=a.useState(""),[h,b]=a.useState(""),[f,g]=a.useState(!1),[v,n]=a.useState(""),[j,i]=a.useState("info"),S=async r=>{r.preventDefault();const o={title:c,body:u.trim(),type:h};try{const t=await fetch("http://localhost:8080/api/articles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(t.ok){const l=await t.json();console.log("Article created successfully:",l),n("Article created successfully!"),i("success"),d(""),m(""),b("")}else{const l=await t.json();console.error("Failed to create article:",t.status,l),n(`Failed to create article: ${l.message||t.statusText}`),i("error")}}catch(t){console.error("Error submitting form:",t),n(`Error submitting form: ${t instanceof Error?t.message:"Unknown error"}`),i("error")}finally{g(!0)}},x=(r,o)=>{o!=="clickaway"&&g(!1)};return e.jsxs(y,{className:"min-h-screen flex items-center justify-center p-4 bg-gray-100 dark:bg-gray-900",sx:{fontFamily:"Inter, sans-serif"},children:[e.jsxs(y,{component:"form",onSubmit:S,className:"w-full max-w-md p-8 bg-white dark:bg-gray-800 rounded-xl shadow-lg flex flex-col gap-6",children:[e.jsx(p,{label:"Title",variant:"outlined",fullWidth:!0,value:c,onChange:r=>d(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3}}),e.jsx(p,{label:"Body",variant:"outlined",fullWidth:!0,multiline:!0,rows:6,value:u,onChange:r=>m(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3}}),e.jsxs(k,{fullWidth:!0,variant:"outlined",className:"rounded-lg",children:[e.jsx(w,{id:"article-type-label",children:"Type"}),e.jsxs(F,{labelId:"article-type-label",id:"article-type-select",value:h,label:"Type",onChange:r=>b(r.target.value),required:!0,className:"rounded-lg",sx:{"& .MuiOutlinedInput-root":{borderRadius:"0.75rem"},mb:3},children:[e.jsx(s,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(s,{value:"utangulizi",children:"Utangulizi"}),e.jsx(s,{value:"academy",children:"Academy"}),e.jsx(s,{value:"pratice",children:"Practice"}),e.jsx(s,{value:"inventory",children:"Inventory"})]})]}),e.jsx(A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,className:"py-3 rounded-lg text-white font-semibold shadow-md hover:shadow-lg transition-all duration-300",sx:{borderRadius:"0.75rem",background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)","&:hover":{background:"linear-gradient(45deg, #FF8E53 30%, #FE6B8B 90%)"}},children:"Create Article"})]}),e.jsx(T,{open:f,autoHideDuration:6e3,onClose:x,children:e.jsx(B,{onClose:x,severity:j,sx:{width:"100%"},children:v})})]})}export{E as A};
